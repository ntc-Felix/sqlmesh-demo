apiVersion: v1
kind: ConfigMap
metadata:
 name: prometheus-config
 namespace: monitoring
data:
 prometheus.yml: |
  global:
  scrape_configs:
   - job_name: 'yugabytedb'
     metrics_path: /prometheus-metrics
     static_configs:
      - targets: ['yb-masters.yb-operator.svc.cluster.local:7000']
        labels:
          group: 'yb-master'

      - targets: ['yb-tservers.yb-operator.svc.cluster.local:9000']
        labels:
          group: 'yb-tserver'

      - targets: ['yb-tservers.yb-operator.svc.cluster.local:11000']
        labels:
          group: 'yedis'

      - targets: ['yb-tservers.yb-operator.svc.cluster.local:12000']
        labels:
          group: 'ycql'

      - targets: ['yb-tservers.yb-operator.svc.cluster.local:13000']
        labels:
          group: 'ysql'